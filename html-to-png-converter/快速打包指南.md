# 🚀 HTML转PNG转换器 - 快速打包指南

## 一键打包 Windows 应用

### 📋 准备工作

1. **安装 Node.js**（如果尚未安装）
   - 访问：https://nodejs.org/
   - 下载并安装 Node.js 16 或更高版本

2. **确认项目文件**
   - 确保所有项目文件都在当前文件夹中
   - 项目应包含：`package.json`、`server.js`、`electron-main.js` 等文件

### 🎯 一键构建

**方法一：使用自动化脚本（推荐）**

1. 双击运行 `build.bat` 文件
2. 脚本会自动：
   - 检查 Node.js 安装
   - 安装所需依赖
   - 构建 Windows 应用
   - 显示构建结果

**方法二：手动执行命令**

打开命令行（PowerShell 或 CMD），依次执行：

```bash
# 1. 安装依赖
npm install

# 2. 构建应用
npm run build
```

### 📦 构建输出

构建完成后，在 `dist/` 文件夹中会生成：

- **安装程序版本**：`HTML转PNG转换器 Setup 1.0.0.exe`
  - 需要安装到系统中
  - 会创建桌面快捷方式
  - 支持卸载

- **便携版本**：`HTML转PNG转换器 1.0.0.exe`
  - 无需安装，直接运行
  - 适合携带使用

### 🎨 自定义图标（可选）

1. 打开 `assets/` 文件夹
2. 查看 `icon.svg`（已生成的图标）
3. 将 SVG 转换为 PNG 和 ICO：
   - 在线转换：https://convertio.co/svg-png/
   - 保存为 `assets/icon.png`（256x256像素）
   - 保存为 `assets/icon.ico`
4. 重新运行构建

### ⏱️ 构建时间

- 首次构建：约 5-10 分钟（需要下载 Electron）
- 后续构建：约 2-3 分钟

### 🛠️ 常见问题

**Q：构建失败，提示网络错误**
```bash
# 设置国内镜像源
npm config set registry https://registry.npmmirror.com/
npm config set electron_mirror https://npm.taobao.org/mirrors/electron/
# 重新安装
npm install
```

**Q：提示权限错误**
- 以管理员身份运行命令行
- 或者关闭杀毒软件重试

**Q：生成的应用无法运行**
- 确保目标电脑已安装 VC++ Redistributable
- 检查目标电脑是否为 Windows 10/11 x64

### 📋 分发清单

打包完成后，您可以分发：

- ✅ `HTML转PNG转换器 Setup 1.0.0.exe` - 安装程序版本
- ✅ `HTML转PNG转换器 1.0.0.exe` - 便携版本
- ✅ 使用说明文档（可选）

### 🎯 使用方式

**对于最终用户：**

1. **安装版本**：
   - 双击 `Setup.exe` 文件
   - 按提示完成安装
   - 从开始菜单或桌面快捷方式启动

2. **便携版本**：
   - 直接双击 `.exe` 文件
   - 首次运行会自动启动服务
   - 应用界面会自动打开

### 💡 提示

- 构建过程需要稳定的网络连接
- 首次构建会下载约 200MB 的依赖文件
- 生成的应用包大小约 150-200MB
- 应用启动后会自动打开浏览器界面
- 默认端口为 3003，如被占用会显示错误

---

🔗 **更多信息**：查看 `BUILD.md` 获取详细技术文档 