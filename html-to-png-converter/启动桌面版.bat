@echo off
chcp 65001 > nul
cd /d "%~dp0"

echo ====================================
echo    HTMLè½¬PNGè½¬æ¢å™¨ - æ¡Œé¢ç‰ˆå¯åŠ¨
echo ====================================
echo.

:: è‡ªåŠ¨åˆ‡æ¢åˆ°è„šæœ¬æ‰€åœ¨ç›®å½•
echo âœ… å·¥ä½œç›®å½•ï¼š%CD%
echo.

:: å¿«é€Ÿæ£€æŸ¥
if not exist "package.json" (
    echo âŒ é”™è¯¯ï¼šæœªæ‰¾åˆ°é¡¹ç›®æ–‡ä»¶ï¼
    pause
    exit /b 1
)

:: æ£€æŸ¥ä¾èµ–ï¼Œå¦‚æžœæ²¡æœ‰å°±è‡ªåŠ¨å®‰è£…
if not exist "node_modules" (
    echo ðŸ“¦ æ­£åœ¨å®‰è£…ä¾èµ–ï¼Œè¯·ç¨å€™...
    npm install --silent
)

echo ðŸš€ æ­£åœ¨å¯åŠ¨HTMLè½¬PNGè½¬æ¢å™¨æ¡Œé¢ç‰ˆ...
echo ðŸ’¡ åº”ç”¨å°†è‡ªåŠ¨æ‰“å¼€çª—å£ï¼Œè¯·ç­‰å¾…å‡ ç§’é’Ÿ...
echo.

:: å¯åŠ¨æ¡Œé¢åº”ç”¨
npm run electron

echo.
echo åº”ç”¨å·²å…³é—­ï¼ŒæŒ‰ä»»æ„é”®é€€å‡º...
pause >nul 